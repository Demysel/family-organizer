<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Organizer</title>
    
    <!-- FullCalendar CSS -->
    <!-- Avant la fermeture du </body> -->
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js'></script>
<script src='https://cdn.jsdelivr.net/npm/@fullcalendar/interaction@6.1.8/index.global.min.js'></script>
<script src='https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@6.1.8/index.global.min.js'></script>
<script src='https://cdn.jsdelivr.net/npm/@fullcalendar/timegrid@6.1.8/index.global.min.js'></script>
<script src="scripts/calendar.js"></script>
</head>
<body>
    <div id="loading" class="loader"></div>
    
    <div class="dashboard hidden">
        <!-- Section Calendrier -->
        <div class="calendar-section">
            <h2>ðŸ“… Calendrier Familial</h2>
            <!-- ContrÃ´les d'ajout d'Ã©vÃ©nement -->
            <div class="event-controls">
                <input type="text" id="eventTitle" placeholder="Titre de l'Ã©vÃ©nement" class="event-input">
                <input type="datetime-local" id="eventStart" class="event-input">
                <input type="datetime-local" id="eventEnd" class="event-input">
                <input type="color" id="eventColor" value="#4CAF50" title="Choisir une couleur">
                <button onclick="addEvent()" class="btn-add">âž• Ajouter Ã‰vÃ©nement</button>
            </div>

            <!-- Conteneur du calendrier -->
            <div id="calendar"></div>
        </div>

         <!-- FullCalendar JS -->
    <script src='https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.8/main.min.js'></script>
    <script src='https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@6.1.8/main.min.js'></script>
    <script src='https://cdn.jsdelivr.net/npm/@fullcalendar/timegrid@6.1.8/main.min.js'></script>
    <script src='https://cdn.jsdelivr.net/npm/@fullcalendar/interaction@6.1.8/main.min.js'></script>

    <!-- Scripts applicatifs -->
    <script src="scripts/database.js"></script>
    <script src="scripts/auth.js"></script>
    <script src="scripts/calendar.js"></script>
    <script src="scripts/tasks.js"></script>

    <!-- Initialisation -->
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                await Promise.all([
                    loadCalendar(),
                    loadTasks()
                ]);
                document.getElementById('loading').classList.add('hidden');
                document.querySelector('.dashboard').classList.remove('hidden');
            } catch (error) {
                console.error('Erreur initialisation:', error);
                alert('Erreur de chargement, vÃ©rifiez la console');
            }
        });
    </script>
</body>
</html>
